---
title: "Pima Indian Diabetes"
author: "3조<br>한승헌, 남덕우, 안용범, 최중훈"
date: '2019.08.23'
output:
  rmdformats::material:
    highlight: kate
    self_contained: true
    code_folding: hide
    thumbnails: true
    gallery: true
    fig_width: 11
    fig_height: 7
    df_print: kable
---


```{r knitr_init, eval=FALSE, cache=FALSE, include=FALSE, results="asis"}
library(knitr)
library(rmdformats)
## Global options
options(max.print = "75")
opts_chunk$set(echo = FALSE,
	             cache = FALSE,
               prompt = FALSE,
               tidy = FALSE,
               comment = NA,
               message = FALSE,
               warning = FALSE)
opts_knit$set(width = 75)
```


```{r include=FALSE}
library(tidyverse)
```

```{r include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
data <- read.csv(file = "http://bitly.kr/BAHl4R",
                 header = TRUE)
```

# Intro 

## 주제
Pima 인디언 여성의 당뇨 발병 여부 예측
<br>
<br>
<br>


## 데이터셋 소개 및 목표

-  미국  National Institute of Diabetes 출처의 ‘Pima Indians Diabetes Database’는 Pima라는 인디언 부족의 혈통을 가진 성인 여성들의 임신 여부, 혈압, 인슐린 수치 등 신체 상태를 조사하고 당뇨 여부를 기록한 데이터셋이다. 프로젝트에 사용될 데이터셋은 경진을 위해 실제 데이터를 축소한 상태로 공개되었다.
-  8개의 변수를 기반으로 조사 대상자 약 800명의 당뇨 발병 여부를 예측해볼 수 있는 형태로 구성되어 있다.
-  약 800명 중 무작위로 추출한 80%는 train, 나머지 20%는 test로 구성하여 train 데이터로 학습을 진행하고 이를 기반으로 test의 당뇨 발병 여부를 예측해보는 것이 프로젝트의 목표이다.
<br>
<br>
<br>


## 데이터 출처 및 링크
-  Pima Indians Diabetes Database (Kaggle)
-  http://bitly.kr/BAHl4R
<br>
<br>
<br>



## 변수 소개
구분                         | 변수설명
-------------                | ------------- 
Pregnancies                  | 임신한 횟수
Glucose                      | 글루코스 수치(경구 당 부하 검사 결과)
BloodPressure                | 혈압수치(mm Hg)
SkinThickness                | 상완삼두근 피부두께(mm)
Insulin                      | 인슐린 수치(μU/ml)
BMI                          | BMI(몸무게/키^2)
DiabetesPedigreeFunction     | 가족력
Age                          | 연령
Outcome                      | 발병여부

<br>
<br>

### Diabetes Pedigree Function
$$DPF = \frac{\sum K_i(88-ADM_i)+20 }{\sum K_j(ALC_j-14)+50 } $$


<br>
i : 당뇨가 발병한 전체 친척의 수 <br><br>
j : 당뇨가 발병하지 않은 전체 친척의 수<br><br>
x - 특정 친척과 유전자 일치 정도<br>
     0.5 - 부모, 형제(0촌, 1촌)<br>
     0.25 - 조부모, 부모의 형제(2, 3촌)<br>
     0.125 - 부모 형제의 자녀(4촌)<br><br>
ADM - 당뇨가 발병한 친척(i)이 발병한 나이<br><br>
ACL - 당뇨가 발병하지 않은 친척(j)가 당뇨검사를 한 나이<br><br>



# EDA


## EDA{.tabset}

### BoxPlot

```{r echo=TRUE}
par(mfrow = c(2, 4))
for(i in 1:8){
  boxplot(x = data[ ,i],
          main =  c("Boxplot of", paste(colnames(data[i]))), sep = " ")
          
}

```

Pregnancies : 임신횟수 boxplot에서 IQR 이상의 숫자가 나왔지만 전혀 불가능한 정도의 숫자가 아니기 때문에 이상치로 판단할 수 없다. <br><br>

Glucose : 일반적으로 혈당수치가 70 mg/dL 이하인 경우 저혈당으로 판단하고 혈당이 50 mg/dL 미만이 되면 뇌기능에 장애가 생기게 된다. 경구 당 부하 검사후 혈당수치가 0인 데이터가 발견되었고, 이는 결측값 혹은 입력오류로 판단된다. <br><br>

Blood Pressure : 혈압이란 혈관을 따라 흐르는 혈액이 혈관의 벽에 주는 압력이다. 확장기 혈압이 0mm Hg 인경우 혈액이 흐르지 않는다는것을 의미한다고 볼수 있으며, 사망한 환자의 혈압을 잰 것이 아닌 이상 이는 결측값 혹은 입력오류로 
판단된다. <br><br>

### Pregnancies
```{r}
boxplot(data$Pregnancies, main = "Pregnancies")
```

임신횟수 boxplot에서 IQR 이상의 숫자가 나왔지만 전혀 불가능한 정도의 숫자가 아니기 때문에 이상치로 판단할수 없다.

```{r}
hist(data$Pregnancies, main = "Pregnancies")
```

### Glucose
```{r}
boxplot(data$Glucose, main = "Glucose")
```

일반적으로 혈당수치가 70 mg/dL 이하인 경우 저혈당으로 판단하고 혈당이 50 mg/dL 미만이 되면 뇌기능에 장애가 생기게 된다. 경구 당 부하 검사후 혈당수치가 0인 데이터가 발견되었고, 이는 결측값 혹은 입력오류로 판단된다.


```{r}
hist(data$Glucose, main = "Glucose")
```

### Blood Pressure
```{r}
boxplot(data$BloodPressure, main = "Blood Pressure")
```

혈압이란 혈관을 따라 흐르는 혈액이 혈관의 벽에 주는 압력이다. 확장기 혈압이 0mm Hg 인경우 혈액이 흐르지 않는다는것을 의미한다고 볼수 있으며, 사망한 환자의 혈압을 잰 것이 아닌 이상 이는 결측값 혹은 입력오류로 
판단된다.

```{r}
hist(data$BloodPressure, main = "Blood Pressure")
```

### Skin Thickness
```{r}
boxplot(data$SkinThickness, main = "Skin Thickness")
```

```{r}
hist(data$SkinThickness, main = "Skin Thickness")
```

### Insulin
```{r}
boxplot(data$Insulin, main = "Insulin")
```

```{r}
hist(data$Insulin, main = "Insulin")
```

### BMI
```{r}
boxplot(data$BMI, main = "BMI")
```

```{r}
hist(data$BMI, main = "BMI")
```

### Diabetes Pedigree Function
```{r}
boxplot(data$DiabetesPedigreeFunction, main = "Diabetes Pedigree Function")
```

```{r}
hist(data$DiabetesPedigreeFunction, main = "Diabetes Pedigree Function")
```

### Age
```{r}
boxplot(data$Age, main = "Age")
```

```{r}
hist(data$Age, main = "Age")
```

# Preprocessing

Here we test if tabbed sections work correctly.

## Classical tabs {.tabset}

classical tabs without fading effect.

### First tab



### Second tab

(내용)


## Pill tabs {.tabset .tabset-fade .tabset-pills}

Pill tabs with fading effect.

### First tab

(내용)

### Second tab
(내용)



# TAB

## Classical tabs {.tabset}



### First tab

(내용)

### Second tab

(내용)

## Pill tabs {.tabset .tabset-fade .tabset-pills}

(내용)

### First tab

(내용)

### Second tab
(내용)
